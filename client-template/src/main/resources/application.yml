server:
  port: 8089                   # [MODIFY] Change this for each new service (e.g. 8082, 8083)
  servlet:
    session:
      cookie:
        name: CLIENT_TEMPLATE_SESSIONID # [MODIFY] Unique session cookie name to avoid conflicts
        domain: civer.cn  # 注意前面的点，允许所有子域名共享

logging:
  level:
    org.springframework.security: INFO

spring:
  config:
    import: optional:file:./application-secret.yml
  application:
    name: client-template           # [MODIFY] App Name
  security:
    oauth2:
      client:
        registration:
          oidc-client:
            provider: auth-server
            # [MODIFY] Client ID & Secret matching Auth Server config
            client-id: client-template
            client-secret: secret
            authorization-grant-type: authorization_code
            redirect-uri: "${app.base-url}/login/oauth2/code/{registrationId}"
            scope:
              - openid
              - profile
        provider:
          auth-server:
            issuer-uri: ${app.auth-server-url}

# Custom Properties for dynamic configuration
app:
  # 本地开发使用 localhost，生产部署时通过环境变量覆盖
  auth-server-url: ${APP_AUTH_SERVER_URL:http://127.0.0.1:8080}
  # [MODIFY] Ensure this matches server.port
  base-url: ${APP_BASE_URL:http://127.0.0.1:8089}
